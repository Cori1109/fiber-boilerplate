{"version":3,"sources":["webpack://vue-boilerplate/./resources/src/js/payment.js"],"names":["paypal","Buttons","env","paypal_env","style","layout","size","shape","color","fundingicons","tagline","onInit","data","actions","disable","document","querySelector","addEventListener","event","amount","target","value","isNaN","getElementById","innerHTML","setTimeout","enable","onClick","regex","alert","createOrder","formData","FormData","append","fetch","method","body","then","response","json","resJson","id","onApprove","orderID","res","onCancel","render"],"mappings":"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","file":"/js/payment.js","sourcesContent":["paypal.Buttons({\n\n    // Set your environment\n    env: paypal_env,\n\n    // Set style of buttons\n    style: {\n        layout: 'horizontal',   // horizontal | vertical\n        size: 'large',   // medium | large | responsive\n        shape: 'rect',         // pill | rect\n        color: 'gold',         // gold | blue | silver | black,\n        fundingicons: false,    // true | false,\n        tagline: false          // true | false,\n    },\n// onInit is called when the button first renders\n    onInit: function (data, actions) {\n\n        // Disable the buttons\n        actions.disable();\n\n        // Listen for changes to the checkbox\n        document.querySelector('#amount')\n            .addEventListener('keyup', function (event) {\n                let amount = event.target.value;\n                amount = +amount;\n                if (isNaN(amount)) {\n                    document.getElementById(\"amount-err\").innerHTML = \"Invalid amount format\";\n                    setTimeout(function () {\n                        document.getElementById(\"amount-err\").innerHTML = \"\";\n                    }, 2000);\n                    actions.disable();\n                } else if (amount < 5) {\n                    document.getElementById(\"amount-err\").innerHTML = \"Amount must be greater than 5\";\n                    setTimeout(function () {\n                        document.getElementById(\"amount-err\").innerHTML = \"\";\n                    }, 2000);\n                    actions.disable();\n                }\n                if (event.target.value === \"\") {\n                    document.getElementById(\"amount-err\").innerHTML = \"Invalid amount format\";\n                    setTimeout(function () {\n                        document.getElementById(\"amount-err\").innerHTML = \"\";\n                    }, 2000);\n                    actions.disable();\n                } else {\n                    actions.enable();\n                }\n            });\n    },\n\n    // onClick is called when the button is clicked\n    onClick: function () {\n        var regex = /^\\d+(?:\\.\\d{0,2})$/;\n        let amount = document.getElementById(\"amount\").value;\n        amount = +amount;\n        if (isNaN(amount)) {\n            alert(2);\n            document.getElementById(\"amount-err\").innerHTML = \"Invalid amount format\";\n            setTimeout(function () {\n                document.getElementById(\"amount-err\").innerHTML = \"\";\n            }, 2000);\n        }\n    },\n    // Wait for the PayPal button to be clicked\n    createOrder: function () {\n        let formData = new FormData();\n        let amount = document.getElementById(\"amount\").value;\n\n        formData.append('amount', amount);\n\n        return fetch(\n            '/app/paypal/do/order',\n            {\n                method: 'POST',\n                body: formData\n            }\n        ).then(function (response) {\n            return response.json();\n        }).then(function (resJson) {\n            return resJson.data.id;\n        });\n    },\n\n    // Wait for the payment to be authorized by the customer\n    onApprove: function (data, actions) {\n        return fetch(\n            '/app/paypal/order/success/' + data.orderID,\n            {\n                method: 'POST'\n            }\n        ).then(function (res) {\n            return res.json();\n        }).then(function (res) {\n\n            // window.location.href = '/account/paypal/order/success';\n        });\n    },\n\n\n    // Wait for the payment to be authorized by the customer\n    onCancel: function (data, actions) {\n        return fetch(\n            '/app/paypal/order/cancel/' + data.orderID,\n            {\n                method: 'POST'\n            }\n        ).then(function (res) {\n            return res.json();\n        }).then(function (res) {\n\n            // window.location.href = '/account/paypal/order/success';\n        });\n    },\n\n\n}).render('#paypalCheckoutContainer');\n"],"sourceRoot":""}